# อธิบายโปรแกรม 1-6
## Run Example 1
Microcontroller ESP01 มีเสาอากาศสำหรับ WIFI ซึ่งในการเขียนโปรแกรมลงบน Microcontroller ต้องต่อกับ serial port หลังจากนั้นก็ดูตัวอย่างโปรแกรมโฟลเดอร์ Pattani โดยจะมีทั้งหมด 9 โปรแกรม โดยจะใช้โปรแกรม 01_Serial_Monitor ในโปรแกรมนี้เขียนขึ้นมาเพื่อทดสอบ มีทั้งหมด 2 ฟังก์ชัน คือ Set up รันครั้งเดียว และ Loop ที่จะรันแบบวนลูบ
- Set up จะ set serial port ที่ความเร็ว 115200
- Loop มีตัวแปรมาเพิ่ม count ขึ้นเรื่อยๆ โดยที่ให้แสดงผลตัวแปรcount ออกมาและให้หน่วงเวลา 1 วินาที
  - ในแต่ละโปรแกรมที่ใช้ platformio จะมี configuration file ชื่อว่า "platformio.ini"
วิธีการอัพโหลดโปรแกรมลงบนMicrocontroller ใช้คำสั่ง pio run -t upload เมื่อโปรแกรมพร้อมรันจะใช้คำสั่ง pio run device monitor เพื่อดูผลลัพธ์ ถ้าจะรีเซทให้กดปุ่มสีแดง
## Run Example 2
ใช้คำสั่ง 1s ต่อมาใช้คำสั่ง vi src/main.cpp เพื่อเตรียม upload program โดยมีตัวโปรแกรมมี 2 ส่วน คือ
- Set up เพื่อเตรียมset wifi ให้พร้อมทำงาน 
- Loop คือวนLoopตลอดไป โดยแสดงผลว่า "เริ่มต้นแสกนหา WIFI"
ในการ Upload โปรแกรมคำสั่ง pio run -t upload เพื่อให้โปรแกรมupload ต้องกดปุ่มสีดำ หรือ port 0 แล้วกดปุ่มreset สีแดง เมื่อ Upload เสร็จแล้วใช้คำสั่ง pio device monitor เพื่อดูว่าเจอ WIFI อะไรบ้าง
## Run Example 3
เป็นโปรแกรมสำหรับทดลองการ output สัญญาณออกไปภายนอก คอมพิวเตอร์ที่ใช้คือ microcontroller ESP01 ซึ่งมี output port และ input port คือ 0 และ 1 ถ้าต้องการเขียนโปรแกรมลง microcontroller ต้องนำมาเสียบกับ USB 2.0 serial port โดยเสียบผ่าน adaptor ที่มีสายต่อออกมาอีก port 0 สีขาว port 1 สีเหลือง เพื่อให้ port 0 ซึ่งเป็น output สามารถมองเห็นได้ด้วยตาจึงนำมาต่อกับLED เปร่งแสงเพื่อให้มีแสงสว่าง เมื่อมีการส่ง 1 มาที่ port ในการเขียนโปรแกรมที่ 3 จะอยู่ในโฟลเดอร์ 03_output_port จากเนื้อหาของโปรแกรม โปรแกรมจะset ให้ port 0 เป็น Output หลังจากนั้นทำมห้วนลูปทุกครึ่งวินาทีหรือ 500 ms แล้วนับ count ขึ้นไปเรื่อยๆ ถ้า cnt เป็นเลขคี่ ให้ on ถ้า cnt เป็นเลขคู่ ให้ off หลังจากนั้น upload โปรแกรมโดยใช้คำสั่ง pio run -t upload เพื่อให้โปรแกรมถูก upload ต้องกดปุ่มสีดำ หลังจากนั้น กดปุ่ม reset สีแดง ถ้าต้องการดูผลการรัน ใช้คำสั่ง pio device monitor จะพบว่าทุกครึ่งวินาที จะสลับ ON-OFF ไปเรื่อยๆ ไฟ LED ที่ port 0 ก็จะเปล่งแสงในช่วง ON
### Run relay
นำ microcontroller มาเสียบกับ relay เพื่อให้ส่งสัญญาณไปควบคุมรีเลย์ ให้เปิด-ปิดสวิตซ์สัญญาณ ON-OFF หลังจากนั้นนำ relay ที่เสียบกับ microcontroller ไปต่อกับขั้วชาร์จเพื่อจ่ายไฟ สัญญาณไฟจะควบคุม relay และจะได้ยินเสียงหน้าสัมผัสของสวิตซ์ไฟ
## Run Example 4
เป็นการทดลองนำสัญญาณ input จากภายนอกเข้ามาใน microcontroller แบ่งเป็น 2 ส่วน
- Set up จะเซ็ตให้ port 0 สีขาว เป็น input port 2 สีเหลือง เป็น output 
- Loop จะวนลูป แล้วอ่านข้อมูลจาก port 0 ถ้าสัญญาณ 1 ให้ Low ไปที่ port2 ถ้ามีหลอดไฟ คือไฟดับ ถ้าสัญญาณเป็น 0 ให้ hign ไปที่ port 2 ถ้ามีหลอดไฟคือไฟติด 
แล้วนำไป upload บน microcontroller เมื่อทำเสร็จ จะดูที่ port0 ว่ามี input มาหรือไม่ ถ้า output เป็น0 หลอดไฟจะสว่างเป็น 1 หลอดไฟจะดับ สามารถกดปุ่มสีดำที่ USB เพื่อให้ port 0 เป็น0 แล้วมาต่อกับsensor ที่ต่อกับตัวต้านทาน ต่อกับไฟเลี้ยง3v อีกขาต่อกับเส้นสีดำ โดยสัญญาณที่อยู่ตรงกลางคือสัญญาณจาก sensor ถ้าsensorได้รับแสงสว่างค่าที่แสดงออกมาเป็น 0 แต่ถ้ามืด ค่าที่แสดงออกมาจะเป็น 1 ไฟจะดับ
## Run wifi
เป็นโปรแกรมที่สร้างเว็บผ่าน WIFI เนื่องจากต้องเชื่อมต่อกับ WIFI จึงต้องใส่ชื่อWIFI และ password ลงไปในโปรแกรม มี 2 ส่วน
- Set up เป็นการเชื่อมต่อกับ WIFI ที่เราเลือกไว้ หลังจากนั้นเป็นการ set up web server ถ้ามีการเชื่อมโยงจะแสดงผล "็Hello cnt: "
- Loop จะวนลูปไปเรื่อยๆ หลังจาก upload microcontroller กับ USB 2.0 Serial ในการทดสอบโปรแกรมต้องใช้ Web server
## Run wifi AP
ไม่จำเป็นต้องเชื่อมต่อกับWIFI ที่มีอยู่แล้ว โดย program นี้จะสร้าง wifi access point ขึ้นมาเอง เมื่อเราใช้ ESP01 ที่มี WIFI ในตัวเอง เป็น access point เราต้องกำหนดชื่อมห้ หากจะปล่อย WIFI ให้คนมาเชื่อมต่อได้ ก็ต้องกำหนด IP Address ของตัวเอง ESP01 โดยตัวโปรแกรมจะมีการเตรียม Web server 1 ตัว และสร้าง access point โดยการรันคำสั่ง SoftAP ต่อจากนั้น run โปรแกรมโดยการ Upload ลง microcontroller เมื่อโปรแกรมรัน จะสร้้าง Access point ขึ้นมา โดยไม่ใช้ของที่อื่น ในการทดสอบอาจจะใช้คอมพิวเตอร์ หรือ โทรศัพท์มือถือ ในการเช็คว่า WIFI ตัวนั้นมีจริงหรือไม่
